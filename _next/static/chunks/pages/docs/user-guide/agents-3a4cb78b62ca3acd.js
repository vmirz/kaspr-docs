(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[167],{4053:function(e,s,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/docs/user-guide/agents",function(){return i(9771)}])},9771:function(e,s,i){"use strict";i.r(s),i.d(s,{default:function(){return c},useTOC:function(){return useTOC}});var t=i(5893),n=i(7812),r=i(9601),a=i(8925),l=i(512),d=i(5192);let h={default:"\uD83D\uDCA1",error:"\uD83D\uDEAB",info:(0,t.jsx)(d.AV,{className:"_mt-1"}),warning:"⚠️"},o={default:(0,l.Z)("_border-orange-100 _bg-orange-50 _text-orange-800 dark:_border-orange-400/30 dark:_bg-orange-400/20 dark:_text-orange-300"),error:(0,l.Z)("_border-red-200 _bg-red-100 _text-red-900 dark:_border-red-200/30 dark:_bg-red-900/30 dark:_text-red-200"),info:(0,l.Z)("_border-blue-200 _bg-blue-100 _text-blue-900 dark:_border-blue-200/30 dark:_bg-blue-900/30 dark:_text-blue-200"),warning:(0,l.Z)("_border-yellow-100 _bg-yellow-50 _text-yellow-900 dark:_border-yellow-200/30 dark:_bg-yellow-700/30 dark:_text-yellow-200")};function Callout({children:e,type:s="default",emoji:i=h[s]}){return(0,t.jsxs)("div",{className:(0,l.Z)("nextra-callout _overflow-x-auto _mt-6 _flex _rounded-lg _border _py-2 ltr:_pr-4 rtl:_pl-4","contrast-more:_border-current contrast-more:dark:_border-current",o[s]),children:[(0,t.jsx)("div",{className:"_select-none _text-xl ltr:_pl-3 ltr:_pr-2 rtl:_pr-3 rtl:_pl-2",style:{fontFamily:'"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"'},children:i}),(0,t.jsx)("div",{className:"_w-full _min-w-0 _leading-7",children:e})]})}function useTOC(e){return[{value:"Define Agents",id:"define-agents",depth:2},{value:"Inputs",id:"inputs",depth:3},{value:"App Assignment",id:"app-assignment",depth:3},{value:"Processors",id:"processors",depth:3}]}var c=(0,n.c)(function(e){let{toc:s=useTOC(e)}=e,i={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",span:"span",strong:"strong",ul:"ul",...(0,a.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.h1,{children:"Agents - Distributed Stream Processors"}),"\n",(0,t.jsx)(i.p,{children:"An agent is a distributed system processing the events in a stream."}),"\n",(0,t.jsx)(i.h2,{id:s[0].id,children:s[0].value}),"\n",(0,t.jsx)(i.h3,{id:s[1].id,children:s[1].value}),"\n",(0,t.jsx)(i.p,{children:"A KasprAgent resource takes an input topic or channel that defines the source of events for the agent’s stream."}),"\n",(0,t.jsxs)(Callout,{type:"info",children:[(0,t.jsx)(i.p,{children:(0,t.jsx)(i.strong,{children:"Multiple topics"})}),(0,t.jsx)(i.p,{children:"You can consume from multiple topics simultaniously by providing multiple topic names or a regex pattern. This is mostly useful when all inputs share the same data schema but can also be used in general."})]}),"\n",(0,t.jsx)(i.pre,{tabIndex:"0","data-language":"yaml","data-word-wrap":"","data-copy":"",children:(0,t.jsxs)(i.code,{children:[(0,t.jsxs)(i.span,{children:[(0,t.jsx)(i.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"apiVersion"}),(0,t.jsx)(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,t.jsx)(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"kaspr.io/v1alpha1"})]}),"\n",(0,t.jsxs)(i.span,{children:[(0,t.jsx)(i.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"kind"}),(0,t.jsx)(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,t.jsx)(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"KasprAgent"})]}),"\n",(0,t.jsxs)(i.span,{children:[(0,t.jsx)(i.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"metadata"}),(0,t.jsx)(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,t.jsxs)(i.span,{children:[(0,t.jsx)(i.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"  name"}),(0,t.jsx)(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,t.jsx)(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"welcome-email-sender"})]}),"\n",(0,t.jsxs)(i.span,{children:[(0,t.jsx)(i.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"spec"}),(0,t.jsx)(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,t.jsxs)(i.span,{children:[(0,t.jsx)(i.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"  inputs"}),(0,t.jsx)(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,t.jsxs)(i.span,{children:[(0,t.jsx)(i.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"    topic"}),(0,t.jsx)(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,t.jsxs)(i.span,{children:[(0,t.jsx)(i.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"      names"}),(0,t.jsx)(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,t.jsxs)(i.span,{children:[(0,t.jsx)(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"        - "}),(0,t.jsx)(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"new-customers"})]})]})}),"\n",(0,t.jsxs)(Callout,{type:"info",children:[(0,t.jsx)(i.p,{children:(0,t.jsx)(i.strong,{children:"Partitioning"})}),(0,t.jsxs)(i.p,{children:["When an agent reads from a topic, the stream is partitioned based on the key of the message. For example, the stream could have keys that are customer ids, and values that are purchases, then partitioning will decide that any message with the same customer id as key, is always delivered to the same agent instance.\nSometimes you’ll have to repartition the stream, to ensure a portion of the data is consistently delievered to the same agent instance on a particu. See ",(0,t.jsx)(i.a,{href:"#stream-processors",children:"Stream Processors"})," for more information on the ",(0,t.jsx)(i.code,{children:"group_by"})," operator."]})]}),"\n",(0,t.jsx)(i.h3,{id:s[2].id,children:s[2].value}),"\n",(0,t.jsx)(i.p,{children:"Agents must be assigned to a KasprApp. The assigned app is the designated worker that will host and run the agent stream processor."}),"\n",(0,t.jsx)(i.pre,{tabIndex:"0","data-language":"yaml","data-word-wrap":"","data-copy":"",children:(0,t.jsxs)(i.code,{children:[(0,t.jsxs)(i.span,{children:[(0,t.jsx)(i.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"apiVersion"}),(0,t.jsx)(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,t.jsx)(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"kaspr.io/v1alpha1"})]}),"\n",(0,t.jsxs)(i.span,{children:[(0,t.jsx)(i.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"kind"}),(0,t.jsx)(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,t.jsx)(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"KasprAgent"})]}),"\n",(0,t.jsxs)(i.span,{children:[(0,t.jsx)(i.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"metadata"}),(0,t.jsx)(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,t.jsxs)(i.span,{children:[(0,t.jsx)(i.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"  name"}),(0,t.jsx)(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,t.jsx)(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"offer-generator"})]}),"\n",(0,t.jsxs)(i.span,{"data-highlighted-line":"",children:[(0,t.jsx)(i.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"  kaspr.io/app"}),(0,t.jsx)(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,t.jsx)(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"loyalty-app"})]}),"\n",(0,t.jsxs)(i.span,{children:[(0,t.jsx)(i.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"spec"}),(0,t.jsx)(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,t.jsxs)(i.span,{children:[(0,t.jsx)(i.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"  inputs"}),(0,t.jsx)(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,t.jsxs)(i.span,{children:[(0,t.jsx)(i.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"    topic"}),(0,t.jsx)(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,t.jsxs)(i.span,{children:[(0,t.jsx)(i.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"      names"}),(0,t.jsx)(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,t.jsxs)(i.span,{children:[(0,t.jsx)(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"        - "}),(0,t.jsx)(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"customers"})]})]})}),"\n",(0,t.jsx)(i.h3,{id:s[3].id,children:s[3].value}),"\n",(0,t.jsxs)(i.p,{children:["Processors take actions on events in a stream, processing one event at a time. Operations like ",(0,t.jsx)(i.code,{children:"filter"}),", ",(0,t.jsx)(i.code,{children:"map"}),", and ",(0,t.jsx)(i.code,{children:"groupBy"})," are built-in processor action that transform the stream. You can also create custom operations using Python. An agent processor chains multiple operations together into a pipeline, with each input event flowing through the operations sequentially."]}),"\n",(0,t.jsx)(i.p,{children:"There are two types of processor operations:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Terminal"}),": A terminal operator concludes the stream processing and represents the final operation in a pipeline."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Non-terminal"}),": A non-terminal operator transforms the stream and passes it along, enabling subsequent operators in the chain to process the data further."]}),"\n"]})]})},"/docs/user-guide/agents",{filePath:"pages/docs/user-guide/agents.mdx",timestamp:1734576885e3,pageMap:r.v,frontMatter:{},title:"Agents - Distributed Stream Processors"},"undefined"==typeof RemoteContent?useTOC:RemoteContent.useTOC)},9601:function(e,s,i){"use strict";i.d(s,{v:function(){return t}});let t=[{data:{index:{title:"Kaspr",type:"page",display:"hidden",theme:{layout:"raw"}},docs:{title:"Documentation",type:"page"}}},{name:"docs",route:"/docs",children:[{data:{index:"Overview","getting-started":"Getting Started","user-guide":"User Guide","api-reference":"API Reference","---":{type:"separator"},copyright:"Copyright"}},{name:"api-reference",route:"/docs/api-reference",children:[{data:{v1alpha1:"v1alpha1"}},{name:"v1alpha1",route:"/docs/api-reference/v1alpha1",frontMatter:{sidebarTitle:"V1alpha1"}}]},{name:"copyright",route:"/docs/copyright",frontMatter:{sidebarTitle:"Copyright"}},{name:"getting-started",route:"/docs/getting-started",children:[{data:{introduction:"Introduction",installation:"Installation",compatibility:"Compatibility",architecture:"Architecture"}},{name:"architecture",route:"/docs/getting-started/architecture",frontMatter:{sidebarTitle:"Architecture"}},{name:"compatibility",route:"/docs/getting-started/compatibility",frontMatter:{sidebarTitle:"Compatibility"}},{name:"installation",route:"/docs/getting-started/installation",children:[{data:{yaml:"Install with YAML",helm:"Install with Helm"}},{name:"helm",route:"/docs/getting-started/installation/helm",frontMatter:{sidebarTitle:"Helm"}},{name:"yaml",route:"/docs/getting-started/installation/yaml",frontMatter:{sidebarTitle:"Yaml"}}]},{name:"introduction",route:"/docs/getting-started/introduction",frontMatter:{sidebarTitle:"Introduction"}}]},{name:"index",route:"/docs",frontMatter:{sidebarTitle:"Index"}},{name:"user-guide",route:"/docs/user-guide",children:[{data:{concepts:"Concepts","kafka-basics":"Kafka - Basics you need to know",agents:"Agents - Distributed stream processors"}},{name:"agents",route:"/docs/user-guide/agents",frontMatter:{sidebarTitle:"Agents"}},{name:"concepts",route:"/docs/user-guide/concepts",frontMatter:{sidebarTitle:"Concepts"}},{name:"kafka-basics",route:"/docs/user-guide/kafka-basics",frontMatter:{sidebarTitle:"Kafka Basics"}}]}]},{name:"index",route:"/",frontMatter:{title:"Kaspr – Event Streaming for Kubernetes"}}]}},function(e){e.O(0,[812,774,888,179],function(){return e(e.s=4053)}),_N_E=e.O()}]);